**Description des intentions du travail**

Dans le cadre de ce travail, il est question de développer une application web sur un seul type d’acte criminel et sur une petite zone géographique. Ceci a pour objectif de réaliser une « preuve de concept » afin de prouver que l'application fonctionne comme prévu avant d'élargir l'échelle de l'application et de la mettre en production complète. Ainsi, il a été décidé de sélectionner uniquement le type de crime « vol dans / sur véhicule à moteur » pour l’arrondissement « Ville-Marie ». Ce désir d’étudier cet enjeu de sécurité publique provient de la multiplication au mois de janvier 2023 de publications sur la page Facebook « Centre-Sud MON Quartier » concernant des vols dans des voitures. En effet, les photos de fenêtres de voiture brisées étaient devenues monnaie courante en ce début d’année, alors qu’elles semblent avoir diminué depuis février.

***
**Description des intentions d’expérience usager du _Dashboard_**

L’intention de la carte est de permettre aux usagers d’apercevoir où se concentrent les vols de véhicules depuis le début de l’année en plus de constater dans quel mois ils ont été plus nombreux. Pour ce faire, la carte crée sera transférée dans un _Dashboard_ d’afin de pouvoir ajouter deux indicateurs dynamiques pour illustrer le nombre et le mois des vols visibles sur la carte selon le niveau de zoom appliqué à un moment donné. De plus, quatre filtres dynamiques sont également mis à la disposition des usagers, les permettant de rechercher plus aisément ce qu’ils désirent trouver avec la carte. En effet, certains usagers s’intéresseront davantage aux dates où se sont déroulés les vols, alors que d’autres peuvent plutôt désirer filtrer les vols selon les numéros de poste de quartier, ce qui est tout les deux possibles avec ces filtres dynamiques. Quelques autres boutons supplémentaires sont également présents sur la carte afin d’améliorer l’expérience d’usager, en permettant de changer le fond de carte ou encore de rechercher une adresse par exemple.

***
**Processus d’import et de mis à jour des données**

Avant de créer un _Dashboard_, il est nécessaire de créer une carte avec _Mapviewer_ afin d’appliquer la symbologie souhaitée aux données traitées. Pour ce faire, il est nécessaire avant toute chose d’importer les données traitées dans _FME_ vers _ArcGIS Online_ (_AGOL_). Il est possible de créer un _Writter_ dans _FME_ permettant de transférer directement les données dans le dossier désiré dans la section_ _« Contenu » de _AGOL_. Cette connexion directe permet de mettre à jour les données aisément.

Il est possible que la connexion avec _AGOL_ dans _FME_ entraine une perte des données, ce qui a été le cas dans ce travail. Ainsi, il a été convenu avec le responsable de projet (Clément) d’importer les données de façon manuelle en exportant en format _.shp_ les données depuis _FME _et en les important depuis un fichier ._zip_ dans _AGOL_. C’est ainsi que la couche de vols et la couche de limite administrative ont été importées puis stylisées dans _Mapviewer_. Il est également possible de mettre à jour le jeu de données visible dans la carte en important de nouveau une couche plus récente, mais il faut obligatoirement que les noms des colonnes et du fichier ._zip_ soit identiques, sinon quoi la mise à jour n’est pas possible.

En plus de ces données vectorielles, une image aérienne couvrant une partie du territoire de Ville-Marie a été importée dans _AGOL_. Afin d’incorporer cette couche matricielle, il a fallu l’importer en tant que contenu multimédia, donc obligatoirement en format ._png_ ou ._jpg_. Ceci a fait en sorte qu’il a été nécessaire de géoréférencer manuellement la carte, puisque l’image ne contenait pas d’informations géographiques comme peut le faire un ._geotiff_.

***
**KPI dynamiques**

Les deux indicateurs dynamiques visibles à droite de la carte dans le _Dashboard _sont d’excellents outils d’aide à la compréhension pour les utilisateurs de la carte, puisqu’ils leur permettent de visualiser des chiffres en temps réel sur les éléments visibles dans l’encadré de la carte actuel (Figure 1). Ainsi, ces deux KPI permettent d’une part de connaitre le nombre de vols survenus sur ou dans des véhicules à moteur depuis le début de l’année dans le secteur, mais il permet également d’autre part de réaliser dans quel mois de l’année ils sont survenus. Dans la figure 1 par exemple, l’indicateur dynamique des vols par mois est fortement utile afin de constater qu’il y a eu une quantité disproportionnée de vols commis durant le mois de janvier dans ce secteur spécifique, alors que les mois de février et de mars ont été beaucoup plus calmes. À l’inverse, l’indicateur mensuel indique dans la figure 2 qu’aucun vol n’a été commis au mois de janvier au stationnement du sommet du Mont-Royal, alors qu’il en est survenu 10 au mois de février ainsi que 3 au mois de mars. Ces KPI permettent ainsi de constater les dynamiques locales dans les vols sur ou dans des véhicules à moteur.

***
**Filtres dynamiques**

À gauche de la carte dans le _Dashboard_, se trouvent quatre onglets où il est possible de filtrer les données selon la date, le mois, le poste de quartier ainsi que le quart de travail où sont survenus les signalements de vols commis sur ou dans des véhicules à moteur. Il est à noter qu’il est important de créer un lien dynamique (« Action ») entre les filtres, les données vectorielles de crimes et les KPI, sinon quoi la carte et les indicateurs ne seront pas mis à jour en fonction des filtres activés. Par exemple, si un lien dynamique est seulement créé entre la couche vectorielle et les filtres, mais pas avec les KPI, il y aurait moins de points sur la carte, mais le nombre resterait pareil sur la jauge et le diagramme, puisque l’information que certains points sont masqués par les filtres ne se rend pas aux KPI si le lien dynamique n’est pas activé.

Il est à noter qu’il est possible de choisir plus d’une sélection pour chacun des filtres, ce qui permet de sélectionner plusieurs dates ou plusieurs postes de quartier par exemple. De plus, un bouton est également présent pour tout sélectionner ou pour réinitialiser le filtre après l’avoir modifié. D’autre part, il est possible d’utiliser plus d’un filtre à la fois, ce qui permet d’obtenir les vols survenus lors du quart de nuit dans le territoire du poste de quartier # 22 au mois de mars par exemple.

***
**Bouton sur la carte**

Quelques boutons sont également présents sur la carte afin d’aider et d’améliorer l’expérience de navigation pour les usagers. En effet, une icône de loupe est présente dans le coin droit supérieur de la carte afin de permettre de recherche une adresse ou un lieu quelconque tout en zoomant sur le résultat de la recherche. À droite de cette icône, se trouve également un bouton pour faire apparaitre la légende ainsi qu’un autre qui permet de sélectionner un fond de carte différent. De base, ce fond est le _Light Gray Canvas_, mais il est possible que l’usager préfère utiliser le fond _Imagery Hybrid_ ou bien encore _Navigation_ par exemple. Dans le coin inférieur droit, deux boutons permettent également d’ajuster l’échelle manuellement, même s’il est possible de la faire avec une souris. Une échelle est également présente dans le coin inférieur gauche de la carte, en format métrique et impérial. Une icône de flèche tournant en rond dans le coin inférieur droit du _Dashboard_ permet d’autre part de réinitialiser la carte à son état d’origine lorsqu’on l’a ouvert. De plus, lorsqu’on appose le curseur de la souris sur la carte ou les deux KPI, une icône avec 4 flèches divergentes est présente dans le coin supérieur droit afin de permettre aux usagers d’agrandir ces éléments. En dernier lieu, à droite de la colonne du titre de la carte se trouve un icône avec trois lignes horizontales. Il est possible de cliquer dessus afin d’obtenir des liens soit pour la source des données d’actes criminels ou pour la visualisation 2,5D des polygones de bâtiments.

***
**Symbologie des couches**

Afin de représenter les données ponctuelles de vols, il a été décidé d’utiliser, ce qui permet de regrouper plusieurs points rapprochés en un seul dont sa taille augmente plus il agrège de point. Le rayon d’action de l’agrégat a été défini à moyen, puisqu’un rayon trop élevé enlève de la précision sur la carte, alors qu’un rayon trop faible n’agrège pas assez de données, laissant trop de petits cercles sur la carte. Ainsi, avec le rayon moyen, il est aisément possible pour les usagers de constater où se concentrent les vols. De plus, chaque cercle supérieur à un vol possède une étiquette permettant de savoir combien de vols il agrège. En ce qui concerne la limite administrative de l’arrondissement Ville-Marie, il a été décidé d’épaissir de quelque peu la ligne noire qui délimite ces contours afin de bien visualiser lesdites limites.

***
**Fenêtre contextuelle**

Il est en tout temps possible de cliquer sur les cercles représentant les vols et une fenêtre contextuelle apparaitra. Si l'on clique sur un cercle seul sans étiquette, il représente un seul vol, alors les informations de ce crime sont alors affichées sous forme d’un tableau, où les titres des colonnes sont à gauche et les valeurs associées à ce vol précis sont à droite (figure 3). Considérant le flou entourant la nomenclature de la catégorie de crime « vol **_dans/sur_** véhicule », il a été décidé, pour le bien de la compréhension des usagers, d’inclure sous le tableau deux images afin d’illustrer des exemples possibles de vol **_sur et dans_** des véhicules (figures 4 et 5). Pour les cercles recensant plusieurs crimes, il suffit de cliquer sur l’onglet « Parcourir les entités » afin de sélectionner un vol parmi ceux listés. Un court texte explique aux usagers comment faire, en plus d’indiquer le nombre de vols qu’agrège le point (figure 6).

***
**Ajout d’une couche matricielle**

Considérant que ce projet est de type « preuve de concept », il a été décidé d’inclure une image aérienne afin d’évaluer la pertinence de cette couche pour la carte. Dans les paramètres de la couche, la fusion de la couche avec la carte a été établie à « lumière crue », ce qui donne une illusion de continuité avec le fond de carte en plus de permettre de distinguer plus facilement les noms des rues qui sont superposés par-dessus l’image aérienne. Cette photographie a pour avantage de faciliter la visualisation de certains bâtiments d’envergure, mais elle ne permet de pas de distinguer certains détails. Il a également été décidé d’afficher la photographie seulement rendue à un certain niveau de zoom, puisqu’elle n'était pas pertinente avec le niveau de zoom de base, lorsqu’on aperçoit l’arrondissement Ville-Marie dans son intégralité. Dans les désavantages de la photo aérienne, il y a également le fait qu’il soit nécessaire de géoréférencer manuellement la carte, puisqu’il est juste possible d’importer des contenus multimédias sans données géographiques. De plus, les images matricielles alourdissent les cartes, ce qui n’est pas à l’avantage de l’expérience usager, en plus de fournir une piètre expérience d’interface qui n’améliore pas l’expérience globale.  

***
**Ajout d’une couche vectorielle 2,5D**

                Encore dans l’objectif de tester des éléments dans cette étape de « preuve de concept »,  il a été décidé d’inclure une couche vectorielle des polygones de bâtiments avec des valeurs d’élévation (z), ce qui permet de donner une impression de volume, créant par conséquent une représentation visuelle réaliste de la ville, mais sans la complexité de la modélisation 3D complète. Toutefois, il n’est pas possible de créer une telle visualisation dans _Mapviewer_ ni de l’inclure dans le _Dashboard_. Par conséquent, il est nécessaire de créer _Experience Builder_ où l’on intègre la donnée 2,5D en mode plein écran, pour ensuite copier le l'URL afin d’inclure ce lien vers l’_Experience Builder_ dans le _Dashboard_. Afin d’agrémenter l’expérience usager, une animation d’une petite neige tombant sur les toits est activée et tous les toits sont blancs, alors que les murs qui donnent l’impression 3D sont plutôt d’une autre couleur afin de bien visualiser l’effet de volume.
